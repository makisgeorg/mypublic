import folium

# Κεντρικές συντεταγμένες για τη λίμνη (προσαρμόστε τις αν γνωρίζετε ακριβείς τιμές)
center_coords = [40.690154, 23.1183332]

# Δημιουργία χάρτη
m = folium.Map(location=center_coords, zoom_start=13)

# Λίστα με τα προβλήματα και τις συντεταγμένες (έχω προσθέσει μικρές μετατοπίσεις για κάθε marker)
markers = [
    {
        "category": "Αίτια Υποβάθμισης",
        "title": "Υπερβολική άντληση νερού",
        "description": "Η ενδεχόμενη υπερβολική χρήση υδάτινων πηγών για γεωργικούς σκοπούς, έχει ως αποτέλεσμα τη μείωση της στάθμης της λίμνης.",
        "coords": [40.685742, 23.147035]
    },
    {
        "category": "Αίτια Υποβάθμισης",
        "title": "Βιομηχανική και αγροτική ρύπανση",
        "description": "Αν απόβλητα από βιομηχανικές μονάδες και γεωργικές δραστηριότητες (φυτοφάρμακα, λιπάσματα) καταλήγουν στη λίμνη, προκαλούν ευτροφισμό.",
        "coords": [40.706203, 23.126794]
    },
    {
        "category": "Αίτια Υποβάθμισης",
        "title": "Κτηνοτροφία",
        "description": "Η αυξημένη συγκέντρωση αζωτούχων ενώσεων πιθανόν από τα απόβλητα των κτηνοτροφικών μονάδων επιδεινώνει την κατάσταση.",
        "coords": [40.694260, 23.096810]
    },
    {
        "category": "Αίτια Υποβάθμισης",
        "title": "Αστικά λύματα",
        "description": "Η ενδεχόμενη απόρριψη ανεπεξέργαστων οικιακών λυμάτων συμβάλλει στη ρύπανση των υδάτων.",
        "coords": [40.726088, 23.093419

]
    },
    {
        "category": "Αίτια Υποβάθμισης",
        "title": "Κλιματική αλλαγή",
        "description": "Οι εκδηλώσεις της Κλιματικής Αλλαγής επηρεάζουν τη φυσική ανανέωση των υδάτων της λίμνης.",
        "coords": [40.665180, 23.124171]
    },
    {
        "category": "Περιβαλλοντικές Επιπτώσεις",
        "title": "Μείωση της βιοποικιλότητας",
        "description": "Η λίμνη, που κάποτε αποτελούσε καταφύγιο για υδρόβια είδη και πτηνά, έχει υποστεί δραστική μείωση των πληθυσμών τους λόγω της υποβάθμισης του νερού.",
        "coords": [40.661835, 23.187264]
    },
    {
        "category": "Περιβαλλοντικές Επιπτώσεις",
        "title": "Ευτροφισμός και θάνατος ιχθυοπανίδας",
        "description": "Η υπερσυγκέντρωση θρεπτικών ουσιών οδηγεί σε υπερβολική ανάπτυξη φυκιών, μειώνοντας το οξυγόνο και οδηγώντας στο θάνατο των ψαριών.",
        "coords": [40.668660, 23.165914]
    },
    {
        "category": "Περιβαλλοντικές Επιπτώσεις",
        "title": "Αλλοίωση του φυσικού τοπίου",
        "description": "Η ξηρασία και η ρύπανση έχουν μετατρέψει τη λίμνη σε ένα υποβαθμισμένο οικοσύστημα.",
        "coords": [40.682252, 23.094657]
    },
    {
        "category": "Περιβαλλοντικές Επιπτώσεις",
        "title": "Οικονομικές επιπτώσεις",
        "description": "Οι δραστηριότητες στην αλιεία, τη γεωργία και τον οικοτουρισμό έχουν πληγεί, επηρεάζοντας αρνητικά τις τοπικές κοινότητες.",
        "coords": [40.686573, 23.206661]
    }
]

# Δημιουργία ομάδων (Feature Groups) για κάθε κατηγορία
group_causes = folium.FeatureGroup(name="Αίτια Υποβάθμισης")
group_impacts = folium.FeatureGroup(name="Περιβαλλοντικές Επιπτώσεις")

# Προσθήκη των markers στον χάρτη
for marker in markers:
    popup_content = f"<b>{marker['title']}</b><br>{marker['description']}"
    if marker["category"] == "Αίτια Υποβάθμισης":
        folium.Marker(
            location=marker["coords"],
            popup=popup_content,
            icon=folium.Icon(color='red')
        ).add_to(group_causes)
    else:
        folium.Marker(
            location=marker["coords"],
            popup=popup_content,
            icon=folium.Icon(color='blue')
        ).add_to(group_impacts)

# Προσθήκη των ομάδων στον χάρτη
group_causes.add_to(m)
group_impacts.add_to(m)

# Προσθήκη επιλογών για εμφάνιση/απόκρυψη των ομάδων
folium.LayerControl().add_to(m)

# Αποθήκευση του χάρτη σε αρχείο HTML
m.save("limni_koroneia_map.html")
m
